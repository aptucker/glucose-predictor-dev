% wn= input('frequency')
% zeta= input('damping factor')
% k= input('constant')
wn = 2;
zeta = .7;
k = 1;

num= [k*wn^2];
deno= [1 2*zeta*wn wn^2];
g= tf(num, deno);
t= feedback(g,1);
[A, B, C, D] = tf2ss(num, deno);
sys = ss(A, B, C, D);
% initial(sys, [1, 1]);
% USE LSIM
t = linspace(0, 5, 100);
x0 = [0, 1];
u = 0.2*ones(length(t), 1);

a = [1556 1219866; 1 0];
b = [-2864562; 0];
c = [0 1];
d = [0];

a1 = -159;
b1 = 689;
c1 = 1;
d1 = 0;

tc1 = 0.855;


tt = linspace(0, 3.5, 10000);
ut = 0.4*ones(length(tt), 1);

x0t = [0; 2.1];
xt = [0, 0];

syst = ss(a, b, c, d);
syst1 = ss(a1, b1, c1, d1);

tft = tf(syst);
tf1 = tf(syst1);
gt = tft/(1 - .01*tft);
g1 = tf1/(1 - .01*tf1);


testfeed1 = feedback(g1, 0.01);

close all
out=lsim(syst, ut, tt, x0t);
out1 = lsim(syst1, ut, tt, 2.45);
gout1 = lsim(g1, ut, tt,  [189; 2.707]);
goutt = lsim(gt, ut, tt, 2.707);
